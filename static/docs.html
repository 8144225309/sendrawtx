<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>API Documentation - sendrawtx</title>
<meta name="description" content="API documentation for sendrawtx Bitcoin transaction broadcast service.">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;
  background:#0f0f0f;color:#e0e0e0;min-height:100vh;display:flex;flex-direction:column;
  line-height:1.6;
}
a{color:#f7931a;text-decoration:none}
a:hover{text-decoration:underline}
code,.mono{font-family:'SF Mono',Consolas,'Liberation Mono',Menlo,monospace}
.container{max-width:1152px;margin:0 auto;padding:0 16px;width:100%}
@media(min-width:640px){.container{padding:0 24px}}

/* Header */
.header{position:sticky;top:0;z-index:50;background:rgba(15,15,15,.95);backdrop-filter:blur(8px);border-bottom:1px solid #1a1a1a}
.header-inner{display:flex;align-items:center;justify-content:space-between;height:64px}
.logo-link{display:flex;align-items:center;gap:8px}
.logo-link:hover{text-decoration:none}
.site-name{font-size:18px;font-weight:700;color:#fff;font-family:'SF Mono',Consolas,monospace}
.logo-link:hover .site-name{color:#f7931a}
nav{display:flex;align-items:center;gap:4px}
.nav-link{display:flex;align-items:center;gap:8px;padding:8px 16px;border-radius:8px;font-size:14px;font-weight:500;color:#a0a0a0;transition:all .15s}
.nav-link:hover{color:#fff;background:#1a1a1a;text-decoration:none}
.nav-link.active{color:#fff;background:#1a1a1a}
.nav-label{display:none}
@media(min-width:640px){.nav-label{display:inline}}

/* Cards */
.card{background:#252525;border:1px solid #333;border-radius:12px;padding:24px}

/* Footer */
.footer{margin-top:auto;border-top:1px solid #1a1a1a;background:#0f0f0f;padding:32px 0}
.footer-inner{display:flex;flex-direction:column;align-items:center;gap:16px}
@media(min-width:640px){.footer-inner{flex-direction:row;justify-content:space-between}}
.footer-links{display:flex;align-items:center;gap:16px}
.footer-link{display:flex;align-items:center;gap:8px;font-size:14px;color:#a0a0a0;transition:color .15s}
.footer-link:hover{color:#fff;text-decoration:none}
.footer-credit{font-size:12px;color:#666;text-align:center;margin-top:24px;padding-top:24px;border-top:1px solid #1a1a1a}

/* Docs-specific */
.page-title{font-size:28px;font-weight:700;color:#fff;margin-bottom:8px}
@media(min-width:640px){.page-title{font-size:32px}}
.page-subtitle{color:#a0a0a0;font-size:15px;margin-bottom:32px}
.endpoint-group{margin-bottom:24px}
.endpoint-card{background:#252525;border:1px solid #333;border-radius:12px;padding:24px;margin-bottom:16px}
.endpoint-header{display:flex;align-items:center;gap:12px;margin-bottom:12px;flex-wrap:wrap}
.method-badge{display:inline-flex;align-items:center;padding:4px 10px;border-radius:6px;font-size:12px;font-weight:700;font-family:'SF Mono',Consolas,monospace;letter-spacing:0.5px}
.method-post{background:rgba(59,130,246,.15);color:#3b82f6;border:1px solid rgba(59,130,246,.3)}
.method-get{background:rgba(34,197,94,.15);color:#22c55e;border:1px solid rgba(34,197,94,.3)}
.endpoint-path{font-family:'SF Mono',Consolas,monospace;font-size:15px;font-weight:600;color:#fff}
.endpoint-desc{color:#a0a0a0;font-size:14px;margin-bottom:16px;line-height:1.7}
.endpoint-desc strong{color:#e0e0e0}
.code-block{background:#1a1a1a;border:1px solid #333;border-radius:8px;padding:16px;overflow-x:auto;margin-bottom:12px}
.code-block code{font-family:'SF Mono',Consolas,monospace;font-size:13px;color:#e0e0e0;white-space:pre;line-height:1.6}
.code-label{font-size:12px;font-weight:600;color:#888;text-transform:uppercase;letter-spacing:0.5px;margin-bottom:6px}
.response-block{margin-top:12px}
.section-heading{font-size:20px;font-weight:700;color:#fff;margin-bottom:16px;display:flex;align-items:center;gap:8px}
.section-heading svg{flex-shrink:0}
.param-table{width:100%;border-collapse:collapse;margin-bottom:12px}
.param-table th{text-align:left;font-size:12px;font-weight:600;color:#888;text-transform:uppercase;letter-spacing:0.5px;padding:8px 12px;border-bottom:1px solid #333}
.param-table td{font-size:13px;padding:8px 12px;border-bottom:1px solid #2a2a2a;color:#e0e0e0}
.param-table td:first-child{font-family:'SF Mono',Consolas,monospace;color:#f7931a;white-space:nowrap}
.param-table tr:last-child td{border-bottom:none}
.divider{border:none;border-top:1px solid #333;margin:32px 0}
.note-box{background:rgba(247,147,26,.08);border:1px solid rgba(247,147,26,.25);border-radius:8px;padding:14px 18px;font-size:13px;color:#e0e0e0;line-height:1.7;margin-bottom:16px}
.note-box code{background:#1a1a1a;padding:2px 6px;border-radius:4px;font-size:12px}
</style>
</head>
<body>
<!-- NETWORK_BANNER -->

<!-- Header -->
<header class="header">
<div class="container header-inner">
  <a href="/" class="logo-link">
    <svg viewBox="0 0 100 100" style="width:56px;height:56px">
      <polygon points="50,2 93,26 93,74 50,98 7,74 7,26" fill="none" stroke="#f7931a" stroke-width="2" opacity="0.1"/>
      <polygon points="50,8 87,29 87,71 50,92 13,71 13,29" fill="none" stroke="#f7931a" stroke-width="2" opacity="0.2"/>
      <polygon points="50,14 81,32 81,68 50,86 19,68 19,32" fill="none" stroke="#f7931a" stroke-width="2" opacity="0.35"/>
      <polygon points="50,20 75,35 75,65 50,80 25,65 25,35" fill="none" stroke="#f7931a" stroke-width="2" opacity="0.55"/>
      <polygon points="50,26 69,38 69,62 50,74 31,62 31,38" fill="none" stroke="#f7931a" stroke-width="2.5" opacity="0.8"/>
      <text x="50" y="58" text-anchor="middle" font-size="20" font-weight="bold" fill="#f7931a" font-family="Georgia,serif">TX</text>
    </svg>
    <span class="site-name" id="siteName"></span>
  </a>
  <nav>
    <a href="/" class="nav-link"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg><span class="nav-label">Broadcast</span></a>
    <a href="/docs" class="nav-link active"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg><span class="nav-label">API Docs</span></a>
    <a href="/status" class="nav-link"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg><span class="nav-label">Status</span></a>
  </nav>
</div>
</header>

<!-- Main Content -->
<main style="flex:1">
<div class="container" style="padding-top:32px;padding-bottom:48px">

  <h1 class="page-title">API Documentation</h1>
  <p class="page-subtitle">Broadcast raw Bitcoin transactions via REST API. All endpoints accept and return JSON unless otherwise noted.</p>

  <div class="note-box">
    <strong style="color:#f7931a">Base URL:</strong> <code id="baseUrl">https://your-host</code> &mdash; All paths below are relative to this base. Replace example hostnames with your instance.
  </div>

  <!-- ===== Broadcast Endpoints ===== -->
  <h2 class="section-heading">
    <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="#f7931a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10"/></svg>
    Broadcast Endpoints
  </h2>

  <!-- POST / -->
  <div class="endpoint-card">
    <div class="endpoint-header">
      <span class="method-badge method-post">POST</span>
      <span class="endpoint-path">/</span>
    </div>
    <p class="endpoint-desc">
      Broadcast a raw transaction to the Bitcoin network. The request body must be the raw transaction hex string. On success, returns a JSON object containing the transaction ID.
    </p>
    <table class="param-table">
      <thead><tr><th>Parameter</th><th>Location</th><th>Description</th></tr></thead>
      <tbody>
        <tr><td>body</td><td>Request body</td><td>Raw transaction hex string (plain text)</td></tr>
      </tbody>
    </table>
    <div class="code-label">Example Request</div>
    <div class="code-block"><code>curl -X POST https://your-host/ \
  -H "Content-Type: text/plain" \
  -d "0200000001abcdef..."</code></div>
    <div class="response-block">
      <div class="code-label">Success Response (200)</div>
      <div class="code-block"><code>{
  "txid": "a1b2c3d4e5f6..."
}</code></div>
    </div>
    <div class="response-block">
      <div class="code-label">Error Response (400/500)</div>
      <div class="code-block"><code>{
  "error": "Transaction rejected: insufficient fee"
}</code></div>
    </div>
  </div>

  <!-- GET /tx/{txid} -->
  <div class="endpoint-card">
    <div class="endpoint-header">
      <span class="method-badge method-get">GET</span>
      <span class="endpoint-path">/tx/{txid}</span>
    </div>
    <p class="endpoint-desc">
      Check the status of a previously broadcast transaction by its transaction ID. Returns confirmation status and details from connected nodes.
    </p>
    <table class="param-table">
      <thead><tr><th>Parameter</th><th>Location</th><th>Description</th></tr></thead>
      <tbody>
        <tr><td>txid</td><td>URL path</td><td>The transaction ID (64-character hex string)</td></tr>
      </tbody>
    </table>
    <div class="code-label">Example Request</div>
    <div class="code-block"><code>curl https://your-host/tx/a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2</code></div>
    <div class="response-block">
      <div class="code-label">Success Response (200)</div>
      <div class="code-block"><code>{
  "txid": "a1b2c3d4e5f6...",
  "status": "confirmed",
  "confirmations": 3
}</code></div>
    </div>
  </div>

  <!-- GET /{raw_tx_hex} -->
  <div class="endpoint-card">
    <div class="endpoint-header">
      <span class="method-badge method-get">GET</span>
      <span class="endpoint-path">/{raw_tx_hex}</span>
    </div>
    <p class="endpoint-desc">
      Browser-based broadcast. Navigating to this URL in a browser triggers a broadcast of the raw transaction hex provided in the URL path. Useful for simple integrations, bookmarks, or sharing a broadcast link. Returns an HTML result page.
    </p>
    <table class="param-table">
      <thead><tr><th>Parameter</th><th>Location</th><th>Description</th></tr></thead>
      <tbody>
        <tr><td>raw_tx_hex</td><td>URL path</td><td>The full raw transaction as a hex-encoded string</td></tr>
      </tbody>
    </table>
    <div class="code-label">Example Request</div>
    <div class="code-block"><code>curl https://your-host/0200000001abcdef...</code></div>
    <div class="response-block">
      <div class="code-label">Browser Usage</div>
      <div class="code-block"><code>Open in browser:
https://your-host/0200000001abcdef1234567890...</code></div>
    </div>
  </div>

  <hr class="divider">

  <!-- ===== Operational Endpoints ===== -->
  <h2 class="section-heading">
    <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="#f7931a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
    Health &amp; Status Endpoints
  </h2>

  <!-- GET /health -->
  <div class="endpoint-card">
    <div class="endpoint-header">
      <span class="method-badge method-get">GET</span>
      <span class="endpoint-path">/health</span>
    </div>
    <p class="endpoint-desc">
      Health check endpoint. Returns a JSON object indicating the overall health of the service and its connected backend nodes.
    </p>
    <div class="code-label">Example Request</div>
    <div class="code-block"><code>curl https://your-host/health</code></div>
    <div class="response-block">
      <div class="code-label">Success Response (200)</div>
      <div class="code-block"><code>{
  "status": "healthy",
  "timestamp": "2026-01-15T12:00:00Z"
}</code></div>
    </div>
  </div>

  <!-- GET /ready -->
  <div class="endpoint-card">
    <div class="endpoint-header">
      <span class="method-badge method-get">GET</span>
      <span class="endpoint-path">/ready</span>
    </div>
    <p class="endpoint-desc">
      Readiness probe. Returns HTTP 200 when the service is ready to accept traffic. Suitable for use as a Kubernetes readiness probe. Returns HTTP 503 if the service is not yet ready.
    </p>
    <div class="code-label">Example Request</div>
    <div class="code-block"><code>curl -s -o /dev/null -w "%{http_code}" https://your-host/ready</code></div>
    <div class="response-block">
      <div class="code-label">Response</div>
      <div class="code-block"><code>200 OK    - Service is ready
503       - Service is not ready</code></div>
    </div>
  </div>

  <!-- GET /alive -->
  <div class="endpoint-card">
    <div class="endpoint-header">
      <span class="method-badge method-get">GET</span>
      <span class="endpoint-path">/alive</span>
    </div>
    <p class="endpoint-desc">
      Liveness probe. Returns HTTP 200 as long as the service process is running. Suitable for use as a Kubernetes liveness probe.
    </p>
    <div class="code-label">Example Request</div>
    <div class="code-block"><code>curl -s -o /dev/null -w "%{http_code}" https://your-host/alive</code></div>
    <div class="response-block">
      <div class="code-label">Response</div>
      <div class="code-block"><code>200 OK    - Service is alive</code></div>
    </div>
  </div>

  <!-- GET /metrics -->
  <div class="endpoint-card">
    <div class="endpoint-header">
      <span class="method-badge method-get">GET</span>
      <span class="endpoint-path">/metrics</span>
    </div>
    <p class="endpoint-desc">
      Prometheus-compatible metrics endpoint. Returns service metrics in the Prometheus text exposition format. Use this to monitor broadcast counts, error rates, endpoint latencies, and more.
    </p>
    <div class="code-label">Example Request</div>
    <div class="code-block"><code>curl https://your-host/metrics</code></div>
    <div class="response-block">
      <div class="code-label">Response (text/plain)</div>
      <div class="code-block"><code># HELP sendrawtx_broadcasts_total Total number of broadcast attempts
# TYPE sendrawtx_broadcasts_total counter
sendrawtx_broadcasts_total{status="success"} 1234
sendrawtx_broadcasts_total{status="error"} 56</code></div>
    </div>
  </div>

  <!-- GET /version -->
  <div class="endpoint-card">
    <div class="endpoint-header">
      <span class="method-badge method-get">GET</span>
      <span class="endpoint-path">/version</span>
    </div>
    <p class="endpoint-desc">
      Returns version information for the running sendrawtx instance, including the build version, commit hash, and build timestamp.
    </p>
    <div class="code-label">Example Request</div>
    <div class="code-block"><code>curl https://your-host/version</code></div>
    <div class="response-block">
      <div class="code-label">Success Response (200)</div>
      <div class="code-block"><code>{
  "version": "1.2.0",
  "commit": "abc1234",
  "built": "2026-01-15T10:30:00Z"
}</code></div>
    </div>
  </div>

</div>
</main>

<!-- Footer -->
<footer class="footer">
<div class="container">
  <div class="footer-inner">
    <div>
      <p style="font-size:14px;color:#a0a0a0"><span style="color:#fff;font-weight:500" class="mono" id="footerSiteName"></span> - Bitcoin raw transaction broadcast service</p>
      <p style="font-size:12px;color:#666;margin-top:4px">Specializing in non-standard transactions that other services reject</p>
    </div>
    <div class="footer-links">
      <a href="https://github.com/8144225309/sendrawtx" target="_blank" rel="noopener noreferrer" class="footer-link">
        <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
        <span>GitHub</span>
      </a>
      <a href="https://mempool.space" target="_blank" rel="noopener noreferrer" class="footer-link">
        <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
        <span>mempool.space</span>
      </a>
    </div>
  </div>
  <div class="footer-credit">Built with Bitcoin Core, Knots, and Libre Relay</div>
</div>
</footer>

<script>
document.addEventListener('DOMContentLoaded', function() {
  var siteName = window.location.host.replace(/^www\./, '');
  document.getElementById('siteName').textContent = siteName;
  document.getElementById('footerSiteName').textContent = siteName;
  document.getElementById('baseUrl').textContent = window.location.protocol + '//' + window.location.host;
  document.title = 'API Documentation - ' + siteName;
});
</script>
</body>
</html>
