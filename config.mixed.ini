# RawRelay Server Configuration - Mixed Mode
# Routes transactions to the correct chain based on address detection

# ===========================================================
# MIXED MODE: Multi-Chain Routing
# ===========================================================
# In mixed mode, the server connects to multiple Bitcoin networks
# simultaneously and routes transactions based on address prefixes:
#
#   bc1... / 1... / 3...     -> mainnet
#   tb1... / m... / n... / 2... -> testnet (or signet with hint)
#   bcrt1...                 -> regtest
#
[network]
chain = mixed

[buffer]
initial_size = 4096
max_size = 16777216

[tiers]
large_threshold = 65536
huge_threshold = 1048576

[server]
port = 8080
max_connections = 100
read_timeout = 30

[static]
dir = ./static
cache_max_age = 3600

[slots]
normal_max = 100
large_max = 20
huge_max = 5

[ratelimit]
rps = 100
burst = 200

[tls]
enabled = 0
port = 8443
http2_enabled = 1

[logging]
json = 0
access = 0

# ===========================================================
# RPC Connections - Enable the chains you want to support
# ===========================================================
# Mixed mode requires at least one chain enabled.
# Transactions will be routed to the appropriate chain.

[rpc.mainnet]
# Production mainnet - DISABLED for testing
enabled = 0
host = 127.0.0.1
port = 8332
# datadir = /home/bitcoin/.bitcoin
# OR
# user = your_rpc_user
# password = your_rpc_password
timeout = 30

[rpc.testnet]
# Public testnet - DISABLED for testing
enabled = 0
host = 127.0.0.1
port = 18332
timeout = 30

[rpc.signet]
# Signet - DISABLED for testing
enabled = 0
host = 127.0.0.1
port = 38332
timeout = 30

[rpc.regtest]
# Regtest - using rawrelay-devnet
enabled = 1
host = 127.0.0.1
port = 18888
user = rawrelay
password = devnet123
timeout = 30
